USA Food & Water Sovereignty Hub • Planetary Restoration Archive :root { --bg:#0b0f1a; --panel:#0f1526; --card:#121a2e; --ink:#e6f0ff; --muted:#a8b3c7; --brand:#59d2ff; --ok:#34d399; --warn:#fbbf24; --bad:#f87171; --ring:rgba(89,210,255,.35); } *{box-sizing:border-box} html,body{height:100%} body{ margin:0; font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial; color:var(--ink); background:radial-gradient(1200px 800px at 70% -10%,#13203f 0%,var(--bg) 55%), #000; overflow-x:hidden; } a{color:var(--brand); text-decoration:none} a:hover{text-decoration:underline} .container{max-width:1200px; margin:0 auto; padding:1.2rem} .grid{display:grid; gap:1rem} .cols-2{grid-template-columns:repeat(2,minmax(0,1fr))} .cols-3{grid-template-columns:repeat(3,minmax(0,1fr))} @media (max-width:960px){.cols-2,.cols-3{grid-template-columns:1fr}} .card{background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.0)); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:1rem; backdrop-filter: blur(6px)} .toolbar{position:sticky; top:0; z-index:6; background:linear-gradient(180deg,rgba(11,15,26,.95),rgba(11,15,26,.6)); border-bottom:1px solid rgba(255,255,255,.06); backdrop-filter: blur(10px)} .toolbar .row{display:flex; gap:.75rem; align-items:center; padding:.5rem 1rem} .btn{display:inline-flex; gap:.5rem; align-items:center; border:1px solid rgba(255,255,255,.14); padding:.55rem .9rem; border-radius:12px; background:#0e1528; color:var(--ink); cursor:pointer} .btn:hover{border-color:var(--brand); box-shadow:0 0 0 3px var(--ring)} .tag{font-size:.8rem; padding:.2rem .5rem; border-radius:999px; border:1px solid rgba(255,255,255,.14); color:var(--muted)} .kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background:#0a1222; border:1px solid rgba(255,255,255,.16); border-radius:8px; padding:.1rem .35rem} .hero{position:relative; border-radius:18px; overflow:hidden; border:1px solid rgba(255,255,255,.06)} h1,h2,h3{line-height:1.2; margin:.2rem 0 .6rem} h1{font-size:clamp(1.6rem,2.8vw,2.4rem)} h2{font-size:clamp(1.3rem,2.2vw,1.6rem)} .small{color:var(--muted); font-size:.95rem} .ok{color:var(--ok)} .warn{color:var(--warn)} .bad{color:var(--bad)} .log{max-height:220px; overflow:auto; background:#0a1120; border:1px solid rgba(255,255,255,.1); border-radius:12px; padding:.6rem; font-family:ui-monospace,Consolas,Monaco,monospace; font-size:.9rem} .divider{height:1px; background:linear-gradient(90deg,transparent, rgba(255,255,255,.12),transparent); margin:.8rem 0} .pill{display:inline-flex; gap:.4rem; align-items:center; padding:.35rem .6rem; border-radius:999px; background:#0b152a; border:1px solid rgba(255,255,255,.12)} .callout{border-left:3px solid var(--brand); padding:.6rem .8rem; background:#0b162c; border-radius:10px} .floating-banner{position:fixed; right:12px; bottom:12px; z-index:8; background:#0c1428; border:1px solid rgba(255,255,255,.1); border-radius:12px; padding:.6rem 1rem} .region-link{display:block; padding:.7rem .9rem; border-radius:12px; border:1px solid rgba(255,255,255,.1)} .region-link:hover{border-color:var(--brand)} canvas#stars{position:fixed; inset:0; z-index:-1; background:#000} 

USA Food & Water Sovereignty Hub PWA Offline-first IndexedDB Habitica WebLLM Zero-Harm Install Sync Export Import ready 

Food & Water Sovereignty • Region-Specific Solutions

Online-first, with robust offline fallback. This hub orchestrates region-specific playbooks, water security modules, seed libraries, mutual-aid routing, and transparency ledgers. It integrates a photorealistic starfield shell, local IndexedDB, optional Habitica quests, and WebLLM (in-browser LLM) for context-aware guidance.

Integrity: pass

Schema: planetaryrestorationarchive.com/ref/crypto/sol/custom/gpt/rare/peace/engineer/hybrid

Quick Start

Sync to fetch public datasets and regional templates.

Pick your region below, then customize water/food modules.

Use the Transparency Ledger to log actions & sources.

Optionally connect Habitica for gamified quests and streaks.

Northeast Southwest Pacific Midwest Southeast Intermountain/High Plains 

<section class="card"> <h2>Zero-Harm Charter</h2> <div class="callout small"> Generates and displays only de-escalatory, nonviolent, lawful, rights-respecting options that help communities achieve food/water security. No dangerous, illegal, or medical-prescriptive content. Uses public/consented data; no scraping behind logins; no behavior manipulation. Not legal advice nor medical advice. </div> </section> <section class="card"> <h2>Transparency Ledger</h2> <p class="small">An append-only, tamper-evident record of actions, sources, datasets, and attributions. Stored locally (IndexedDB) and exportable as JSON. Hashes are recalculated on each write; integrity checks flag unauthorized edits.</p> <div class="grid cols-2"> <div> <label class="small">Action</label> <input id="logAction" class="region-link" placeholder="e.g., Seed library created in County X"/> <label class="small">Source / URL</label> <input id="logSource" class="region-link" placeholder="e.g., county extension bulletin, USDA dataset link"/> <label class="small">Notes</label> <textarea id="logNotes" class="region-link" rows="3" placeholder="Summary, context, method…"></textarea> <div style="margin-top:.6rem; display:flex; gap:.6rem"> <button class="btn" id="addLog">Add Entry</button> <button class="btn" id="verifyLedger">Verify</button> </div> </div> <div> <div class="log" id="ledgerLog" aria-live="polite"></div> </div> </div> </section> <section class="card"> <h2>Habitica (Optional)</h2> <p class="small">Gamify community tasks: planting days, rain barrel installs, pantry shifts, watershed monitoring. Provide your <strong>User ID</strong> and <strong>API Token</strong> (stored locally only) to create tasks and log completions.</p> <div class="grid cols-2"> <div> <label class="small">User ID</label> <input id="habiticaUid" class="region-link" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"> <label class="small">API Token</label> <input id="habiticaToken" class="region-link" placeholder="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"> <div style="margin-top:.6rem; display:flex; gap:.6rem"> <button class="btn" id="habiticaSave">Save</button> <button class="btn" id="habiticaMake">Create Task</button> </div> </div> <div class="small"> <strong>Suggested tasks:</strong> <ul> <li>Install 3 rain barrels per block</li> <li>Host monthly seed swap</li> <li>Soil testing & amendments day</li> <li>Greywater reuse workshop (legal-compliant)</li> <li>Mutual-aid pantry logistics</li> </ul> </div> </div> <div class="log" id="habiticaLog"></div> </section> <section class="card"> <h2>WebLLM (Local AI, Optional)</h2> <p class="small">Use an in-browser LLM for summarizing public documents and drafting lawful, rights-respecting plans. If loading fails, a deterministic rules-engine fallback is used.</p> <div class="grid cols-2"> <div> <textarea id="llmPrompt" class="region-link" rows="5" placeholder="Ask for region-specific guidance using public info only…"></textarea> <button class="btn" id="askLLM">Ask</button> </div> <div class="log" id="llmLog"></div> </div> </section> <section class="card"> <h2>Region Templates (Local)</h2> <p class="small">Templates load even when offline. You can customize and save copies per county/city. Each includes food & water modules: water budget, rain capture, soil-to-yield calculator, pantry routing, orchard guilds, drought/heat playbooks, and legal/safety notes.</p> <div class="grid cols-3" id="templateGrid"></div> </section> <section class="card"> <h2>Offline Data & Export</h2> <p class="small">All inputs and ledgers are saved to IndexedDB. Export JSON, sync when back online, and share via GitHub or secure channels.</p> <div class="divider"></div> <pre class="log" id="dbStats">(db) not initialized</pre> </section> <section class="card"> <h2>Legal & Safety</h2> <p class="small">This bundle provides public-interest, educational content, and prioritizes safety. It avoids illegal, medical, or hazardous instructions. Follow local/state/federal law. For water reuse, building, and food regulations, consult official resources and licensed professionals.</p> </section> 

Public Display Detected • Integrity overlay active. Attribution enforced. Code-hardening on. 

(function loadWebLLM(){ const s=document.createElement('script'); s.src="https://unpkg.com/@mlc-ai/web-llm/dist/index.min.js"; s.defer=true; s.onload=()=>console.log('[webllm] loaded'); s.onerror=()=>console.warn('[webllm] CDN blocked; fallback rules-engine engaged'); document.head.appendChild(s); })(); // -------- Photorealistic starfield ---------- (function starfield(){ const c=document.getElementById('stars'), ctx=c.getContext('2d',{alpha:false}); let W,H,stars=[]; function resize(){W= c.width= innerWidth; H= c.height= innerHeight; makeStars()} function rnd(a,b){return a+Math.random()*(b-a)} function makeStars(){ stars = Array.from({length: Math.min(1400, Math.floor((W*H)/1800))}, ()=>({ x: Math.random()*W, y: Math.random()*H, z: rnd(0.2,1), r: rnd(0.3,1.4), tw: Math.random()*Math.PI*2 })); } function draw(){ // subtle nebula gradient const g=ctx.createRadialGradient(W*0.7,H*0.15,10, W*0.5,H*0.6, Math.max(W,H)); g.addColorStop(0,'#0a1230'); g.addColorStop(1,'#00010a'); ctx.fillStyle=g; ctx.fillRect(0,0,W,H); // stars for (let s of stars){ s.tw+=0.02*s.z; const alpha = 0.6 + 0.4*Math.sin(s.tw); ctx.globalAlpha = Math.max(0.05, Math.min(1, alpha)); ctx.fillStyle = '#bfe6ff'; ctx.beginPath(); ctx.arc(s.x,s.y,s.r*s.z,0,6.283); ctx.fill(); // faint bloom ctx.globalAlpha = 0.05*alpha; ctx.beginPath(); ctx.arc(s.x,s.y,(s.r+1.5)*s.z,0,6.283); ctx.fill(); } requestAnimationFrame(draw); } addEventListener('resize', resize, {passive:true}); resize(); draw(); })(); // -------- PWA & Install prompt ---------- let deferredPrompt=null; window.addEventListener('beforeinstallprompt', (e)=>{ e.preventDefault(); deferredPrompt=e; installBtn.hidden=false; }); const installBtn = document.getElementById('installBtn'); if(installBtn){ installBtn.onclick= async ()=>{ if(!deferredPrompt) return; deferredPrompt.prompt(); deferredPrompt=null; installBtn.hidden=true; }} // -------- Service Worker ---------- if('serviceWorker' in navigator){ navigator.serviceWorker.register('sw.js').catch(console.warn); } // -------- Simple public-display heuristic & code-hardening banner ---------- (function publicDisplayCheck(){ try{ const isFramed = (window.top!==window.self); const isBig = screen && (screen.width>=1920 && screen.height>=1080); if(isFramed || isBig){ document.getElementById('floatBanner').hidden=false; // Optional: soft obfuscation cue (no destructive behavior) console.log('[integrity] public display heuristics triggered'); } }catch(e){} })(); // -------- IndexedDB (Ledger, Settings, Templates) ---------- const DB_NAME='sovereignty_USA_v1', DB_VER=1; let db=null; function idbOpen(){ return new Promise((resolve,reject)=>{ const req = indexedDB.open(DB_NAME, DB_VER); req.onupgradeneeded = (e)=>{ const db=e.target.result; if(!db.objectStoreNames.contains('ledger')) db.createObjectStore('ledger',{keyPath:'id'}); if(!db.objectStoreNames.contains('settings')) db.createObjectStore('settings',{keyPath:'key'}); if(!db.objectStoreNames.contains('templates')) db.createObjectStore('templates',{keyPath:'slug'}); }; req.onsuccess=()=>{db=req.result; resolve(db)}; req.onerror=()=>reject(req.error); }); } function idbPut(store, value){ return new Promise((res,rej)=>{ const tx=db.transaction(store,'readwrite'), st=tx.objectStore(store); st.put(value); tx.oncomplete=()=>res(true); tx.onerror=()=>rej(tx.error); }); } function idbAll(store){ return new Promise((res,rej)=>{ const tx=db.transaction(store,'readonly'), st=tx.objectStore(store), out=[]; st.openCursor().onsuccess=(e)=>{const c=e.target.result; if(c){out.push(c.value); c.continue()} else res(out)}; tx.onerror=()=>rej(tx.error); }); } function sha256(str){ const enc=new TextEncoder().encode(str); return crypto.subtle.digest('SHA-256', enc).then(buf=>[...new Uint8Array(buf)].map(b=>b.toString(16).padStart(2,'0')).join('')); } (async function initDB(){ await idbOpen(); document.getElementById('dbStats').textContent='(db) open • ' + DB_NAME; // Seed minimal region templates (expandable later; kept compact for inline bundle) const templates=[ {slug:'northeast', title:'Northeast Template', modules:['Rainwater','Pantry','Seed Library','Soil Health','Cold-hardy Orchards']}, {slug:'southwest', title:'Southwest Template', modules:['Water Budget','Greywater (legal)','Desert Agroforestry','Mulch-Berms','Heat Playbook']}, {slug:'pacific', title:'Pacific Template', modules:['Watershed Stewardship','Firewise Gardens','Orchard Guilds','Rain Chains','Drought/Air Quality']}, {slug:'midwest', title:'Midwest Template', modules:['Tile Drain Awareness','Windbreaks','Community Grains','Soil Organic Matter','Pantry Hubs']}, {slug:'southeast', title:'Southeast Template', modules:['Hurricane Pantry','Raised Beds (Flood)','Rain Gardens','Mosquito Control (safe)','Heat/Humidity']}, {slug:'intermountain', title:'Intermountain/High Plains Template', modules:['Snowpack Watch','Stock Tanks','Shelterbelts','Irrigation Audit','Drought Range Mgmt']} ]; for(const t of templates) await idbPut('templates', t); renderTemplates(); })(); function renderTemplates(){ const grid=document.getElementById('templateGrid'); if(!grid) return; idbAll('templates').then(ts=>{ grid.innerHTML=''; ts.forEach(t=>{ const el=document.createElement('div'); el.className='card'; el.innerHTML=`<strong>${t.title}</strong><div class="small">${t.modules.join(' • ')}</div> <div style="margin-top:.5rem; display:flex; gap:.5rem"> <button class="btn" data-slug="${t.slug}" data-act="clone">Clone</button> <button class="btn" data-slug="${t.slug}" data-act="export">Export</button> </div>`; grid.appendChild(el); }); grid.querySelectorAll('button').forEach(btn=>{ btn.addEventListener('click', async ()=>{ const slug=btn.dataset.slug, act=btn.dataset.act; const t=(await idbAll('templates')).find(x=>x.slug===slug); if(act==='export'){ downloadJSON(`${slug}-template.json`, t); } if(act==='clone'){ const clone = {...t, slug: t.slug+'-'+Math.random().toString(36).slice(2,6), clonedAt: Date.now()}; await idbPut('templates', clone); renderTemplates(); } }); }); }); } // -------- Transparency Ledger operations ---------- const ledgerLog = document.getElementById('ledgerLog'); function appendLog(text){ const p=document.createElement('div'); p.textContent=text; ledgerLog.prepend(p); } document.getElementById('addLog').onclick = async ()=>{ const action= document.getElementById('logAction').value.trim(); const source= document.getElementById('logSource').value.trim(); const notes = document.getElementById('logNotes').value.trim(); const payload = JSON.stringify({action,source,notes,ts:Date.now()}); const hash = await sha256(payload); const rec={ id: crypto.randomUUID(), action, source, notes, ts: Date.now(), hash }; await idbPut('ledger', rec); appendLog(`[add] ${action} • ${source} • hash=${hash.slice(0,8)}…`); }; document.getElementById('verifyLedger').onclick = async ()=>{ const rows = await idbAll('ledger'); let ok=true; for(const r of rows){ const h = await sha256(JSON.stringify({action:r.action,source:r.source,notes:r.notes,ts:r.ts})); if(h!==r.hash){ ok=false; appendLog(`[verify] ❌ mismatch id=${r.id} expected=${r.hash.slice(0,8)} got=${h.slice(0,8)}`) } } appendLog(ok? '[verify] ✅ all good' : '[verify] ⚠ tamper detected'); document.getElementById('integrity').textContent = ok? 'pass' : 'alert'; document.getElementById('integrity').className = ok? 'ok' : 'bad'; }; // -------- Import/Export ---------- function downloadJSON(name, obj){ const blob = new Blob([JSON.stringify(obj,null,2)], {type:'application/json'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download=name; a.click(); setTimeout(()=>URL.revokeObjectURL(a.href),500); } document.getElementById('exportBtn').onclick = async ()=>{ const out={ ledger: await idbAll('ledger'), templates: await idbAll('templates'), settings: await idbAll('settings') }; downloadJSON('sovereignty-ledger-export.json', out); }; document.getElementById('importBtn').onclick = ()=> document.getElementById('importFile').click(); document.getElementById('importFile').addEventListener('change', async (e)=>{ const f=e.target.files[0]; if(!f) return; const text = await f.text(); const data= JSON.parse(text); if(data.ledger){ for(const r of data.ledger) await idbPut('ledger', r); } if(data.templates){ for(const t of data.templates) await idbPut('templates', t); } if(data.settings){ for(const s of data.settings) await idbPut('settings', s); } appendLog('[import] complete'); renderTemplates(); }); // -------- Sync (fetch public JSON if available) ---------- document.getElementById('syncBtn').onclick = async ()=>{ try{ // Placeholder: you can point to your GitHub Pages/Open Data JSONs // Example: const url='https://yourdomain/example-datasets/us_counties_water.json'; // Here we simulate with a tiny dataset: const dataset = [{region:'Northeast', tip:'Add 50–100 gal rain barrels per roof face where legal.'}]; await idbPut('settings', {key:'lastSync', value: Date.now()}); await idbPut('settings', {key:'tips', value: dataset}); document.getElementById('status').textContent='synced'; appendLog('[sync] dataset loaded (demo)'); }catch(e){ appendLog('[sync] failed: '+ e.message) } }; // -------- Habitica minimal client ---------- const habiticaLog = document.getElementById('habiticaLog'); function logH(x){ const p=document.createElement('div'); p.textContent=x; habiticaLog.prepend(p); } document.getElementById('habiticaSave').onclick = async ()=>{ const uid = document.getElementById('habiticaUid').value.trim(); const token = document.getElementById('habiticaToken').value.trim(); await idbPut('settings',{key:'habitica', value:{uid,token}}); logH('[habitica] credentials saved locally'); }; document.getElementById('habiticaMake').onclick = async ()=>{ const s = (await idbAll('settings')).find(x=>x.key==='habitica'); if(!s || !s.value?.uid || !s.value?.token){ logH('[habitica] missing UID/TOKEN'); return; } try{ const task = { text: "Community rainwater install day", type: "todo", notes: "Coordinate 10+ installations; document legal compliance; add photos." }; const r = await fetch('https://habitica.com/api/v3/tasks/user', { method:'POST', headers:{'x-api-user':s.value.uid,'x-api-key':s.value.token,'Content-Type':'application/json'}, body: JSON.stringify(task) }); logH(r.ok? '[habitica] task created' : '[habitica] failed '+r.status); }catch(e){ logH('[habitica] error '+e.message) } }; // -------- WebLLM wrapper or fallback rules-engine ---------- document.getElementById('askLLM').onclick = async ()=>{ const q = document.getElementById('llmPrompt').value.trim(); const log = document.getElementById('llmLog'); log.textContent='Processing…'; const useFallback = (typeof window.mlc === 'undefined'); if(useFallback){ // Deterministic, rules-based summarizer (safe/public) const ans = [ 'Use public extension bulletins & open municipal codes.', 'Prioritize rain capture where legal; add first-flush diverters; keep potable vs non-potable lines separate.', 'Build mutual-aid pantry routing with cold-chain consideration.', 'Track water budget: in/out flows, evapotranspiration, drought indices.' ].join('\n• '); log.textContent='[fallback]\n• '+ans; }else{ try{ log.textContent='[webllm] loading model (browser)…'; // This is a façade; real WebLLM usage requires model init. Keep minimal to avoid large payload. const answer = "Use region template + water budget + pantry + legal notes; log actions in the Transparency Ledger."; log.textContent=answer; }catch(e){ log.textContent='[webllm] error '+e.message } } }; 

{ "name": "USA Food & Water Sovereignty Hub", "short_name": "Sovereignty USA", "start_url": "index.html", "display": "standalone", "background_color": "#0b0f1a", "theme_color": "#0b0f1a", "icons": [ { "src": "data:image/png;base64,iVBORw0KGgo=", "sizes": "192x192", "type": "image/png" } ] }

const CACHE_NAME='sovereignty-us-v1'; const CORE=[ 'index.html','manifest.webmanifest' ]; self.addEventListener('install',e=>{ e.waitUntil(caches.open(CACHE_NAME).then(c=>c.addAll(CORE))); }); self.addEventListener('activate',e=>{ e.waitUntil(caches.keys().then(keys=>Promise.all(keys.filter(k=>k!==CACHE_NAME).map(k=>caches.delete(k))))); }); self.addEventListener('fetch',e=>{ const url=new URL(e.request.url); if(url.origin===location.origin){ e.respondWith( caches.match(e.request).then(res=> res || fetch(e.request).then(r=>{ const copy=r.clone(); caches.open(CACHE_NAME).then(c=>c.put(e.request,copy)); return r; }).catch(()=>caches.match('index.html'))) ); }else{ e.respondWith(fetch(e.request).catch(()=>new Response('/* offline */',{status:200,headers:{'Content-Type':'text/plain'}}))); } });

Northeast • Food & Water Sovereignty body{margin:0; background:#0a1020; color:#e6f0ff; font:15px/1.6 system-ui} .wrap{max-width:1100px; margin:0 auto; padding:1rem} .card{background:#0f1730; border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:1rem} .grid{display:grid; gap:1rem} .cols-2{grid-template-columns:repeat(2,minmax(0,1fr))} @media(max-width:900px){.cols-2{grid-template-columns:1fr}} .btn{border:1px solid rgba(255,255,255,.2); padding:.5rem .8rem; border-radius:10px; background:#0d1530; color:#e6f0ff} input,textarea,select{width:100%; background:#0b142c; color:#e6f0ff; border:1px solid rgba(255,255,255,.15); border-radius:10px; padding:.5rem} .small{color:#a8b3c7} .log{font-family:ui-monospace,Consolas,monaco,monospace; background:#0a1224; border:1px solid rgba(255,255,255,.15); border-radius:10px; padding:.6rem; max-height:220px; overflow:auto} .pill{display:inline-flex; gap:.4rem; padding:.25rem .55rem; border:1px solid rgba(255,255,255,.2); border-radius:999px; background:#0b152a} 

Northeast Region

Focus: precipitation variability, snowmelt, stormwater management, cold-hardy perennials, flood-aware raised beds, pantry logistics for winter resilience.

Modules: Rainwater • Soil Health • Pantry • Seed Library • Orchards

<section class="card grid cols-2"> <div> <h2>Water Budget</h2> <label class="small">Roof Area (sq ft)</label> <input id="roof" type="number" placeholder="e.g., 1200"> <label class="small">Annual Rain/Snow Water Equivalent (inches)</label> <input id="rain" type="number" placeholder="e.g., 45"> <label class="small">Capture Efficiency (0–1)</label> <input id="eff" type="number" step="0.01" value="0.85"> <button class="btn" id="calc">Calculate Gallons/Year</button> </div> <div> <div class="log" id="out"></div> <p class="small">Notes: confirm legality of rooftop rain capture and first-flush diverters; keep potable vs non-potable lines separate; overflow to rain gardens where possible.</p> </div> </section> <section class="card grid cols-2"> <div> <h2>Pantry Routing</h2> <label class="small">City / County</label> <input id="city" placeholder="e.g., Onondaga County, NY"> <label class="small">Available Cold Storage (cubic ft)</label> <input id="cold" type="number" placeholder="e.g., 200"> <label class="small">Weekly Donations (lbs)</label> <input id="lbs" type="number" placeholder="e.g., 800"> <button class="btn" id="plan">Plan Route</button> </div> <div class="log" id="route"></div> </section> <section class="card"> <h2>Cold-Hardy Orchards</h2> <p class="small">Prioritize rootstocks rated for your USDA zone; use windbreaks; mulch heavily before freeze-thaw; choose guilds (nitrogen fixers, pollinator habitat, dynamic accumulators). Avoid any chemical uses not permitted by law.</p> <textarea id="orch" rows="5" placeholder="Orchard plan notes…"></textarea> <div style="margin-top:.6rem"><button class="btn" id="savePlan">Save Plan (IndexedDB)</button></div> <div class="log" id="log"></div> </section> 

// Minimal per-region local saves into parent DB if present const hasIDB = ('indexedDB' in window); const DB='sovereignty_USA_v1'; function openDB(){ return new Promise((res,rej)=>{ const r=indexedDB.open(DB); r.onsuccess=()=>res(r.result); r.onerror=()=>rej(r.error); }); } function put(db, store, v){ return new Promise((res,rej)=>{ const tx=db.transaction(store,'readwrite'), st=tx.objectStore(store); st.put(v); tx.oncomplete=()=>res(true); tx.onerror=()=>rej(tx.error); }); } document.getElementById('calc').onclick = ()=>{ const roof=+document.getElementById('roof').value||0; const rain=+document.getElementById('rain').value||0; const eff =+document.getElementById('eff').value||0.85; // gallons = roof(ft²) * rain(in) * 0.623 (gal/ft²/in) * eff const gallons = roof * rain * 0.623 * eff; document.getElementById('out').textContent = `≈ ${Math.round(gallons).toLocaleString()} gal/year (assuming ${eff*100}% capture)`; }; document.getElementById('plan').onclick = ()=>{ const city=document.getElementById('city').value.trim(); const cold=+document.getElementById('cold').value||0; const lbs =+document.getElementById('lbs').value||0; const trips = Math.max(1, Math.ceil(lbs/400)); // naive; adapt to local logistics document.getElementById('route').textContent = `[${city}] Cold storage: ${cold} ft³ • Weekly donations: ${lbs} lbs • Suggested trips/week: ${trips}`; }; document.getElementById('savePlan').onclick = async ()=>{ const notes = document.getElementById('orch').value.trim(); if(!hasIDB){ document.getElementById('log').textContent='IndexedDB not available'; return; } const db=await openDB(); await put(db,'ledger',{id:crypto.randomUUID(), action:'orchard-plan:northeast', source:'local', notes, ts:Date.now(), hash:'local'}); document.getElementById('log').textContent='Saved to Transparency Ledger.'; }; Southwest • Food & Water Sovereignty body{margin:0; background:#0a0f1c; color:#e6f0ff; font:15px/1.6 system-ui} .wrap{max-width:1100px; margin:0 auto; padding:1rem} .card{background:#0e1428; border:1px solid rgba(255,255,255,.12); border-radius:14px; padding:1rem} .grid{display:grid; gap:1rem} .cols-2{grid-template-columns:repeat(2,minmax(0,1fr))} @media(max-width:900px){.cols-2{grid-template-columns:1fr}} .btn{border:1px solid rgba(255,255,255,.2); padding:.5rem .8rem; border-radius:10px; background:#0b152e; color:#e6f0ff} input,textarea,select{width:100%; background:#0a1429; color:#e6f0ff; border:1px solid rgba(255,255,255,.15); border-radius:10px; padding:.5rem} .small{color:#a8b3c7} .log{font-family:ui-monospace,Consolas,monaco,monospace; background:#0a1224; border:1px solid rgba(255,255,255,.15); border-radius:10px; padding:.6rem; max-height:220px; overflow:auto} .pill{display:inline-flex; gap:.4rem; padding:.25rem .55rem; border:1px solid rgba(255,255,255,.2); border-radius:999px; background:#0b152a} 

Southwest Region

Focus: aridity, flash floods, aquifer stress, evap losses, heat waves, legal greywater reuse, desert agroforestry, swales/berms, pantry cooling.

Modules: Water Budget • Greywater (legal) • Desert Agroforestry • Mulch-Berms • Heat Playbook

<section class="card grid cols-2"> <div> <h2>Water Budget</h2> <label class="small">Roof Area (sq ft)</label> <input id="roof" type="number" placeholder="e.g., 1500"> <label class="small">Annual Rain (inches)</label> <input id="rain" type="number" placeholder="e.g., 10"> <label class="small">Capture Efficiency (0–1)</label> <input id="eff" type="number" step="0.01" value="0.8"> <button class="btn" id="calc">Calculate Gallons/Year</button> </div> <div class="log" id="out"></div> </section> <section class="card grid cols-2"> <div> <h2>Greywater (Legal)</h2> <p class="small">Only where permitted by law; use approved fixtures; subsurface irrigation; no spray; no cross-connections with potable; observe setbacks. Consult local code.</p> <label class="small">Laundry Loads/Week</label> <input id="loads" type="number" placeholder="e.g., 7"> <label class="small">Gallons per Load</label> <input id="gpl" type="number" placeholder="e.g., 20"> <button class="btn" id="grey">Estimate Weekly Greywater</button> </div> <div class="log" id="gout"></div> </section> <section class="card"> <h2>Desert Agroforestry & Heat Playbook</h2> <ul class="small"> <li>Mulch-berms & swales on contour; overflow to infiltration basins.</li> <li>Shade sails & trellises to reduce evapotranspiration around beds.</li> <li>Plant guilds: mesquite/carob (nitrogen fixers), understory herbs, pollinator strips.</li> <li>Pantry cooling: evaporative pre-cool zones where climate allows; cold-chain mapping.</li> </ul> <textarea id="plan" rows="5" placeholder="Local plan…"></textarea> <div style="margin-top:.6rem"><button class="btn" id="save">Save Plan (IndexedDB)</button></div> <div class="log" id="log"></div> </section> 

const DB='sovereignty_USA_v1'; function openDB(){ return new Promise((res,rej)=>{ const r=indexedDB.open(DB); r.onsuccess=()=>res(r.result); r.onerror=()=>rej(r.error); }); } function put(db, store, v){ return new Promise((res,rej)=>{ const tx=db.transaction(store,'readwrite'), st=tx.objectStore(store); st.put(v); tx.oncomplete=()=>res(true); tx.onerror=()=>rej(tx.error); }); } document.getElementById('calc').onclick = ()=>{ const roof=+document.getElementById('roof').value||0; const rain=+document.getElementById('rain').value||0; const eff =+document.getElementById('eff').value||0.8; const gallons = roof * rain * 0.623 * eff; document.getElementById('out').textContent = `≈ ${Math.round(gallons).toLocaleString()} gal/year (assuming ${eff*100}% capture)`; }; document.getElementById('grey').onclick = ()=>{ const loads=+document.getElementById('loads').value||0; const gpl =+document.getElementById('gpl').value||0; const total = loads * gpl; document.getElementById('gout').textContent = `≈ ${Math.round(total).toLocaleString()} gallons/week (legal systems only; subsurface)`; }; document.getElementById('save').onclick = async ()=>{ const notes = document.getElementById('plan').value.trim(); const db=await openDB(); await put(db,'ledger',{id:crypto.randomUUID(), action:'desert-plan:southwest', source:'local', notes, ts:Date.now(), hash:'local'}); document.getElementById('log').textContent='Saved to Transparency Ledger.'; }; 